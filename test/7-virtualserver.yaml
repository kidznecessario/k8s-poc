apiVersion: k8s.nginx.org/v1
kind: VirtualServer
metadata:
  name: prometheus
  namespace: monitoring
  labels:
    app: prometheus
  annotations:
    kubernetes.io/ingress.class: nginx
spec:
  host: k8s-poc-prometheus.devopscheats.com
  # tls:
  #   secret: prometheus-secret
  upstreams:
  - name: prometheus
    service: prometheus-service
    port: 8000
  routes:
  - path: /
    action:
      pass: prometheus